<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started with workflowr • workflowr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">workflowr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/getting-started.html">Getting Started</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jdblischak/workflowr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Getting started with workflowr</h1>
            <h3 class="subtitle">workflowr version 0.3.0</h3>
                        <h4 class="author">John Blischak</h4>
            
            <h4 class="date">2017-02-22</h4>
          </div>

    
    
<div class="contents">
<p>The goal of the workflowr package is to make it easier for researchers to organize their projects and share their results with colleagues. If you are already writing R code to analyze data, and know the basics of Git and GitHub, you can start taking advantage of workflowr immediately. In a matter of minutes, you can create a research website like <a href="https://jdblischak.github.io/workflowr-demo01/">this</a>.</p>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#setup" class="anchor"> </a></body></html>Setup</h2>
<p>This tutorial assumes you have already R and Git installed, have a global user.name and user.email set (you can run <code>git config -l</code> in the shell to confirm), and have an account on GitHub. Rstudio is also convenient, especially if you have a version greater than 1.0, but is not required. If you need instructions to install these, <a href="https://software-carpentry.org">Software Carpentry</a> maintains high-quality installation instructions for use in its workshops. Follow the instructions for your particular operating system to <a href="https://swcarpentry.github.io/workshop-template/#r">install R</a>, <a href="https://swcarpentry.github.io/workshop-template/#git">install Git</a>, and <a href="http://swcarpentry.github.io/git-novice/02-setup/">configure Git</a>. You can obtain a GitHub account at <a href="https://github.com/" class="uri">https://github.com/</a>.</p>
<p>workflowr is hosted in a <a href="https://github.com/jdblischak/workflowr">GitHub repository</a>. Install the most recent stable release with devtools.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools::<span class="kw">install_github</span>(<span class="st">"jdblischak/workflowr"</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p>To see the available vignettes, run <code>browseVignettes("workflowr")</code>. This will open a webpage with a link to each vignette. Currently the following vignettes are available (you are currently reading the first vignette):</p>
<table class="table">
<thead><tr class="header">
<th>Vignette title</th>
<th>To open from R</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Getting started with workflowr</td>
<td><code><a href="../articles/getting-started.html">vignette("getting-started", "workflowr")</a></code></td>
</tr>
<tr class="even">
<td>Customize your research website</td>
<td><code><a href="../articles/customization.html">vignette("customization", "workflowr")</a></code></td>
</tr>
<tr class="odd">
<td>How the workflowr package works</td>
<td><code><a href="../articles/how-it-works.html">vignette("how-it-works", "workflowr")</a></code></td>
</tr>
</tbody>
</table>
<p>As you use workflowr, if you find any unexpected behavior or think of an additional feature that would be nice to have, please open an Issue <a href="https://github.com/jdblischak/workflowr/issues">here</a>. When writing your bug report or feature request, please note the version of workflowr you are using (which you can obtain by running <code>packageVersion("workflowr")</code>).</p>
</div>
<div id="start-the-project" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#start-the-project" class="anchor"> </a></body></html>Start the project</h2>
<p>To start a new project, open R (or RStudio), load the workflowr package, and run the function <code>wflow_start</code>. The code below creates a directory called <code>new-project/</code> in your home folder that contains all the files to get started, and also initializes a Git repository with the initial commit already made.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"workflowr"</span>)
<span class="kw"><a href="../reference/wflow_start.html">wflow_start</a></span>(<span class="st">"A new project"</span>, <span class="st">"~/new-project"</span>)</code></pre></div>
<p>If you’re using RStudio, you can choose <code>Open Project...</code> and select the file <code>new-project.Rproj</code>. This will set the correct working directory in the R console, switch the file navigator to the project, and configure the Git and Build panes. It will also reset the R environment, so you’ll need to re-run <code>library("workflowr")</code>. If you’re not using RStudio, set the working directory to the root of the project directory by running <code>setwd("~/new-project")</code>.</p>
<p>The project directory contains multiple files and subdirectories. The goal is for these to help organize your project.</p>
<ul>
<li>Put raw data files in <code>data/</code>
</li>
<li>Put processed data files in <code>output/</code>
</li>
<li>Put long running scripts in <code>code/</code>. Ideally these steps can be automated using GNU Make or a similar tool</li>
<li>Put R Markdown analysis files in <code>analysis/</code>. These should load data using relative paths, e.g. <code>d &lt;- read.table("../output/clean-data.txt")</code>
</li>
<li>The HTML files and other website code will automatically be put in <code>docs/</code> (described in the next section)</li>
</ul>
<p>All the R Markdown files in <code>analysis/</code> should be independent of each other, i.e. these files should be able to be run in any order. The idea is that code that produces output data needed by other files should be stored in <code>code/</code>.</p>
</div>
<div id="build-the-website" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#build-the-website" class="anchor"> </a></body></html>Build the website</h2>
<p>To build the website, run the function <code>wflow_build</code> in the R console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/wflow_build.html">wflow_build</a></span>()</code></pre></div>
<p>This commands builds all the R Markdown files located in <code>analysis/</code> and saves the corresponding HTML files in <code>docs/</code>. Open the file <code>docs/index.html</code> in your browser to see your site.</p>
<p>Open <code>analysis/about.Rmd</code> in your text editor and write a sentence about your project. <code>wflow_build</code> only builds new or updated R Markdown files. Confirm that the only file to be updated is <code>analysis/about.Rmd</code> by invoking <code>wflow_build</code> as a dry run.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/wflow_build.html">wflow_build</a></span>(<span class="dt">dry_run =</span> <span class="ot">TRUE</span>)</code></pre></div>
</div>
<div id="add-a-new-analysis-file" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#add-a-new-analysis-file" class="anchor"> </a></body></html>Add a new analysis file</h2>
<p>To start a new analysis, run the following command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/wflow_open.html">wflow_open</a></span>(<span class="st">"first-analysis.Rmd"</span>)</code></pre></div>
<p>This performs multiple actions:</p>
<ol style="list-style-type: decimal">
<li>Creates a new file <code>analysis/first-analysis.Rmd</code> based on the workflowr R Markdown template (it doesn’t overwrite the file if it already exists)</li>
<li>Sets the working directory to the <code>analysis/</code> directory</li>
<li>If you are using RStudio, opens the file for editing</li>
</ol>
<p>Now you are ready to start writing! At the top of the file, edit the author, title, and date. If you are using RStudio, press the Knit button to build the file and see a preview in the Viewer pane. Alternatively from the R console, you can run <code>wflow_build</code> again (it can be run from the base directory of your project or any subdirectory).</p>
<p>Check out your new file <code>docs/first-analysis.html</code>. Near the top you will see a line that says “Code version:” followed by an alphanumeric character string. This informs you which version of the code was used to create the file (this is explained more below in the section <a href="#version-the-website">Version the website</a>).</p>
<p>The template R Markdown files contains example code, including creating a figure. This figure was saved as <code>analysis/figure/first-analysis.Rmd/pressure-1.png</code>. Using workflowr, the figures are automatically saved as <code>analysis/figure/&lt;insert Rmd  filename&gt;/&lt;insert chunk name&gt;-#.png</code>, where <code>#</code> corresponds to which of the plots the chunk generated (since one chunk can produce an arbitrary number of plots). Note that the <code>figure/</code> directory is also copied to <code>docs/</code> when building the site.</p>
<p>In order to make it easier to navigate to your new file, you can include a link to it on the main index page. For example, open <code>analysis/index.Rmd</code> and paste the following line. This uses the Markdown syntax for creating a hyperlink (for a quick reference guide in RStudio click “Help” -&gt; “Markdown Quick Reference”). You specify the HTML version of the file since this is what comprises the website.</p>
<pre><code>Click on this [link](first-analysis.html) to see my results.</code></pre>
<p>Click Knit (or run <code>wflow_build</code> again) to update the file.</p>
</div>
<div id="version-the-website" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#version-the-website" class="anchor"> </a></body></html>Version the website</h2>
<p>One of the main goals of workflowr is to help make your research more transparent and reproducible. An important component of this is using the version control system Git<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>. By including the unique identifier that Git assigns a snapshot (or “commit” as Git calls it) at the top of each of your HTML files, you always know which version of the code produced the results.</p>
<p>When you first started the project with <code>wflow_start</code>, workflowr automatically made the first commit of all the project files. Since then you have updated <code>about.Rmd</code> and <code>index.Rmd</code>, added a new file <code>first-analysis.Rmd</code>, and built the website in <code>docs/</code>. In order for the version of the code displayed at the top of the file to be useful, it needs to refer to the exact state of the R Markdown files when the HTML was rendered. To achieve this, use the command <code>wflow_commit</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Assuming working directory is `analysis/`. Run getwd() to confirm</span>
<span class="kw"><a href="../reference/wflow_commit.html">wflow_commit</a></span>(<span class="dt">commit_files =</span> <span class="kw">c</span>(<span class="st">"about.Rmd"</span>, <span class="st">"index.Rmd"</span>, <span class="st">"first-analysis.Rmd"</span>))</code></pre></div>
<p>You must provide the path to the files to be committed in your are not currently in <code>analysis/</code>. This one command performs the following 3 actions:</p>
<ol style="list-style-type: decimal">
<li>Adds and commits the 3 specified R Markdown files</li>
<li>Builds all the HTML files where the corresponding R Markdown file has been commited more recently (since this is the first time running <code>wflow_commit</code>, all the R Markdown files will be built)</li>
<li>Adds and commits the HTML files, figures, and supporting website files</li>
</ol>
<p>This is the general workflow:</p>
<ol style="list-style-type: decimal">
<li>Write code in the R Markdown files (For RStudio users: to quickly develop the code I recommend executing the code in the R console via Ctrl-Enter to send one line or Ctrl-Alt-C to execute the entire code chunk)</li>
<li>Run <code>wflow_build</code> to view the results as they will appear on the website</li>
<li>Go back to step 1 until you are satisfied with the result</li>
<li>Run <code>wflow_commit</code> to build and commit the website (make sure to specify the files that are ready to commit using the argument <code>commit_files</code>)</li>
</ol>
<p>The only exception to this workflow is if you are updating the aesthetics of your website (e.g. anytime you make edits to <code>_analysis/_site.yml</code>). In this case you’ll want to update all the HTML files, regardless of whether or not their corresponding R Markdown files have been updated. To update every HTML page, run the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/wflow_commit.html">wflow_commit</a></span>(<span class="dt">all =</span> <span class="ot">TRUE</span>)</code></pre></div>
</div>
<div id="deploy-the-website" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#deploy-the-website" class="anchor"> </a></body></html>Deploy the website</h2>
<p>At this point you have built a version-controlled website that exists on your local computer. The next step is to put your code on GitHub so that it can serve your website online. To do this, login to your account on GitHub and create a new repository following these <a href="https://help.github.com/articles/creating-a-new-repository/">instructions</a>. Make sure you do not add an automatically-generated README, .gitignore, or license (these are important, but workflowr already creates them for you). Next you will copy the Git commands under the heading “…or push an existing repository from the command line”. Using the hypothetical GitHub username “myname” and hypothetical repository name “myproject”<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>, the two lines will look like the following:</p>
<pre><code># Run in the shell
git remote add origin https://github.com/myname/myproject.git
git push -u origin master</code></pre>
<p>The first line creates the alias “origin” that points to your remote repository on GitHub<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a>. The second pushes your current commit history to GitHub. You will be prompted to enter your GitHub username and password for authentication after you run <code>git push</code>.</p>
<p>Now that your code is on GitHub, you need to tell GitHub that you want the files in <code>docs/</code> to be published as a website. Go to Settings -&gt; GitHub Pages and choose “master branch docs/ folder” as the Source (<a href="https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/#publishing-your-github-pages-site-from-a-docs-folder-on-your-master-branch">instructions</a>). Using the hypothetical names above, the repository would be hosted at the URL <code>https://myname.github.io/myproject/</code><a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a>. If you scroll back down to the GitHub Pages section of the Settings page, you can click on the URL there.</p>
<p>Note that even if you create a private GitHub repository, the website it creates is still public. If you’re not ready to publish your results online, you can always wait and activate GitHub Pages later. In the meantime, you’ll still have a version-controlled, organized set of results for your project. However, the risk that someone that doesn’t have the link to your website is able to find it is very low. Search engines prioritize the results by how many other sites link to a site, so your website will not be high in the results even if you search for very specific terms. Thus if you only share the URL to your results with your close collaborators, and request that they not share it widely, your website is effectively private. That being said, being truly scooped in science is rare (at best) and openly sharing your work will help establish your expertise in the field (and furthermore establishes your priority), so you should consider keeping both your code and website public.</p>
</div>
<div id="further-reading" class="section level2">
<h2 class="hasAnchor">
<html><body><a href="#further-reading" class="anchor"> </a></body></html>Further reading</h2>
<ul>
<li>For advice on using R Markdown files to organize your analysis, read the chapter <a href="http://r4ds.had.co.nz/r-markdown-workflow.html">R Markdown workflow</a> in the book <a href="http://r4ds.had.co.nz/">R for Data Science</a> by Garrett Grolemund and Hadley Wickham</li>
</ul>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>There are many ways to use Git: in the shell, in the RStudio Git pane, or another Git graphical user interface (GUI) (see <a href="https://git-scm.com/download/gui/linux">here</a> for GUI options). When necessary, this vignette will display the Git commands to run in the shell (you can quickly open the Terminal to the correct working directory from RStudio by choosing “Tools” -&gt; “Shell…”).<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>The name of the repository on GitHub does not need to be identical to the directory name of your local Git repo; however, it is convenient to have them match since this is the default behavior of <code>git clone</code> when copying your repo to a another computer<a href="#fnref2">↩</a></p></li>
<li id="fn3"><p>“origin” is the conventional name, but could be anything you wanted<a href="#fnref3">↩</a></p></li>
<li id="fn4"><p>It may take a few minutes for the site to be rendered.<a href="#fnref4">↩</a></p></li>
</ol>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#setup">Setup</a></li>
      <li><a href="#start-the-project">Start the project</a></li>
      <li><a href="#build-the-website">Build the website</a></li>
      <li><a href="#add-a-new-analysis-file">Add a new analysis file</a></li>
      <li><a href="#version-the-website">Version the website</a></li>
      <li><a href="#deploy-the-website">Deploy the website</a></li>
      <li><a href="#further-reading">Further reading</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by John Blischak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
